---
const servicesList = [
  { title: "Neurotoxins (Botox/Dysport)", href: "/services/neurotoxins" },
  { title: "Juvederm Fillers", href: "/services/juvederm-fillers" },
  { title: "Chemical Peels", href: "/services/chemical-peels" },
  { title: "Microneedling", href: "/services/microneedling" },
  { title: "Skinvive", href: "/services/skinvive" },
  { title: "Nefertiti Neck", href: "/services/nefertiti-neck" },
  { title: "Filler Dissolving", href: "/services/filler-dissolving" },
  { title: "Vitamin Injections", href: "/services/vitamin-injections" },
  { title: "Aerolase", href: "/services/aerolase" },
  { title: "Facials", href: "/services/facials" },
  { title: "Skincare", href: "/services/skincare" },
  { title: "Teeth Whitening", href: "/services/teeth-whitening" },
  { title: "Waxing", href: "/services/waxing" },
];
// Fallback data to guarantee build (used if project-level `categories`/`catIcons` are missing)
const _categoriesFallback = [
  { name: "Injectables", items: [
    { title: "Neurotoxins (Botox/Dysport)", href: "/services/neurotoxins" },
    { title: "Juvederm Fillers", href: "/services/juvederm-fillers" },
    { title: "Skinvive", href: "/services/skinvive" },
    { title: "Nefertiti Neck", href: "/services/nefertiti-neck" },
    { title: "Filler Dissolving", href: "/services/filler-dissolving" },
  ]},
  { name: "Skin & Laser", items: [
    { title: "Microneedling", href: "/services/microneedling" },
    { title: "Aerolase", href: "/services/aerolase" },
  ]},
  { name: "Peels & Facials", items: [
    { title: "Chemical Peels", href: "/services/chemical-peels" },
    { title: "Facials", href: "/services/facials" },
    { title: "Skincare", href: "/services/skincare" },
  ]},
  { name: "Hair Removal", items: [
    { title: "Waxing", href: "/services/waxing" },
  ]},
  { name: "Body & Wellness", items: [
    { title: "Vitamin Injections", href: "/services/vitamin-injections" },
    { title: "Teeth Whitening", href: "/services/teeth-whitening" },
  ]},
  { name: "Skin Concerns", items: [
    { title: "Acne", href: "/concerns/acne" },
    { title: "Fine Lines & Wrinkles", href: "/concerns/fine-lines-wrinkles" },
    { title: "Hyperpigmentation", href: "/concerns/hyperpigmentation" },
    { title: "Texture & Pores", href: "/concerns/texture-pores" },
    { title: "Neck/Jawline", href: "/concerns/neck-jawline" },
    { title: "Volume Loss", href: "/concerns/volume-loss" },
  ]},
];

const _catIconsFallback = {
  "Injectables": `<svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 21l6-6M3 15l6 6M10 8l6 6M8 10l6 6M14 4l6 6M18 2l4 4M2 22l4-4"/><rect x="10" y="10" width="4" height="6" rx="1"/></svg>`,
  "Skin & Laser": `<svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2v6M12 16v6M2 12h6M16 12h6M5 5l4 4M15 15l4 4M5 19l4-4M15 9l4-4"/></svg>`,
  "Peels & Facials": `<svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 3c4 0 7 3 7 7 0 5-7 11-7 11S5 15 5 10c0-4 3-7 7-7z"/><path d="M9 10h.01M15 10h.01"/></svg>`,
  "Hair Removal": `<svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 20c0-2 2-4 4-4s4 2 4 4"/><path d="M10 16C10 8 18 8 18 2"/></svg>`,
  "Body & Wellness": `<svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="9"/><path d="M12 3v18M6 8h12M6 16h12"/></svg>`,
  "Skin Concerns": `<svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="9"/><path d="M8 12h.01M12 12h.01M16 12h.01"/></svg>`,
};

---
<section class="relative py-20 overflow-hidden" style="background: radial-gradient(1100px 520px at 8% -12%, #F3F6FA 0%, transparent 60%), linear-gradient(180deg, #FFFFFF 0%, #F8FAFB 100%);">
  <div class="container">
    <header class="max-w-3xl">
      <div class="text-xs font-medium tracking-[0.25em] text-neutral-600">WHAT WE DO</div>
      <h2 class="mt-3 text-3xl sm:text-4xl font-semibold tracking-tight">Medical aesthetics, done thoughtfully</h2>
      <p class="mt-4 text-[15px] leading-7 text-neutral-700">
        We focus on natural, confidence‑building results. Every treatment is personalized around your goals, timeline, and comfort—guided by clinical judgment and evidence‑based practice.
      </p>
    </header>

    <div class="mt-10 grid gap-6 md:grid-cols-5">
      <div class="md:col-span-3 space-y-8">
        <section>
          <h3 class="text-xl font-semibold tracking-tight">Our philosophy</h3>
          <p class="mt-3 text-[15px] leading-7 text-neutral-800">
            Subtle over showy. Harmony over trends. We believe great outcomes look like <em>you</em> on your best day—refreshed, balanced, and comfortable in your skin. That’s why we plan conservatively, prioritize proportions, and earn your trust with transparent recommendations.
          </p>
        </section>

        <section>
          <h3 class="text-xl font-semibold tracking-tight">How we work</h3>
          <ol class="mt-4 grid gap-3 md:grid-cols-4">
            <li class="rounded-xl border border-black/10 bg-white p-4">
              <div class="text-[12px] uppercase tracking-widest text-neutral-500">01 • Consult</div>
              <div class="mt-1 text-sm font-semibold">Listen & assess</div>
              <p class="mt-1 text-[13px] leading-6 text-neutral-700">We clarify your goals, history, and preferences. Photos are optional.</p>
            </li>
            <li class="rounded-xl border border-black/10 bg-white p-4">
              <div class="text-[12px] uppercase tracking-widest text-neutral-500">02 • Plan</div>
              <div class="mt-1 text-sm font-semibold">Personalized roadmap</div>
              <p class="mt-1 text-[13px] leading-6 text-neutral-700">We outline options, balance downtime and budget, and set expectations.</p>
            </li>
            <li class="rounded-xl border border-black/10 bg-white p-4">
              <div class="text-[12px] uppercase tracking-widest text-neutral-500">03 • Treat</div>
              <div class="mt-1 text-sm font-semibold">Comfort‑focused care</div>
              <p class="mt-1 text-[13px] leading-6 text-neutral-700">Precise technique, sterile practice, and honest dosing—always.</p>
            </li>
            <li class="rounded-xl border border-black/10 bg-white p-4">
              <div class="text-[12px] uppercase tracking-widest text-neutral-500">04 • Support</div>
              <div class="mt-1 text-sm font-semibold">Follow‑up & homecare</div>
              <p class="mt-1 text-[13px] leading-6 text-neutral-700">We check in, refine if needed, and pair you with the right skincare.</p>
            </li>
          </ol>
        </section>

        <section>
          <h3 class="text-xl font-semibold tracking-tight">What to expect</h3>
          <ul class="mt-3 grid gap-2 sm:grid-cols-2">
            <li class="rounded-xl border border-black/10 bg-white p-4 text-[14px] leading-6">
              Comfortable visits with gentle technique and clear aftercare.
            </li>
            <li class="rounded-xl border border-black/10 bg-white p-4 text-[14px] leading-6">
              Subtle, believable results that respect your natural expressions.
            </li>
            <li class="rounded-xl border border-black/10 bg-white p-4 text-[14px] leading-6">
              Honest recommendations—what helps, what can wait, and what to avoid.
            </li>
            <li class="rounded-xl border border-black/10 bg-white p-4 text-[14px] leading-6">
              A partnership mindset: your goals guide every decision.
            </li>
          </ul>
        </section>
      </div>

      <aside class="md:col-span-2">
        <div class="rounded-2xl border border-black/10 bg-white p-6 shadow-sm sticky md:top-24">
          <h3 class="text-base font-semibold tracking-tight">Our standards</h3>
          <ul class="mt-3 space-y-2 text-[14px] leading-6 text-neutral-800">
            <li><span class="font-medium">Licensed providers</span> and sterile technique.</li>
            <li><span class="font-medium">Evidence‑based protocols</span> and conservative dosing.</li>
            <li><span class="font-medium">Medical‑grade products</span> from trusted brands.</li>
            <li><span class="font-medium">Informed consent</span> with clear expectations and aftercare.</li>
            <li><span class="font-medium">No pressure</span>—we treat at your pace, not to trends.</li>
          </ul>
          <div class="mt-5">
            <a
              href="https://na02.patientnow.com/a/dessencewellness/OnlineBooking.aspx"
              class="inline-flex items-center justify-center h-10 px-5 rounded-full bg-neutral-900 text-white text-sm font-medium shadow-sm
                     hover:opacity-90 focus:outline-none focus-visible:ring-2 focus-visible:ring-black/20"
            >
              Book a consultation
            </a>
          </div>
        </div>

        <div class="mt-6 rounded-2xl border border-black/10 bg-white p-6">
                  <div class="mt-6 space-y-3">
          <div class="text-[12px] uppercase tracking-widest text-neutral-500">Treatments we offer</div>
          {((typeof categories !== 'undefined' ? categories : _categoriesFallback).filter(cat => cat.name !== 'Regenerative')).map(cat => (
            <details class="group rounded-xl border border-black/10 bg-white/80 open:bg-white transition">
              <summary class="flex items-center justify-between gap-3 px-4 py-3 cursor-pointer list-none">
                <div class="flex items-center gap-2">
                  <span class="inline-flex items-center justify-center w-7 h-7 rounded-full bg-black/5 ring-1 ring-black/10" set:html={(typeof catIcons !== 'undefined' ? catIcons : _catIconsFallback)[cat.name]}></span>
                  <span class="font-medium">{cat.name}</span>
                  <span class="text-[11px] text-neutral-500">({cat.items.length})</span>
                </div>
                <svg class="w-4 h-4 transition-transform group-open:rotate-180" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 9l6 6 6-6"/></svg>
              </summary>
              <div class="px-4 pb-4">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                  {cat.items.map(item => (
                    <a href={item.href} class="group inline-flex items-center justify-between rounded-lg px-3 py-2 hover:bg-black/5 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-black/20">
                      <span class="text-sm group-hover:underline">{item.title}</span>
                      <svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 5l7 7-7 7"/></svg>
                    </a>
                  ))}
                </div>
              </div>
            </details>
          ))}
        </div>

      </aside>
    </div>
  </div>
</section>
