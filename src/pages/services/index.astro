---
import BaseLayout from '@/layouts/BaseLayout.astro';
import ServiceCard from '@/components/ServiceCard.astro';
import { getCollection } from 'astro:content';
const entries = await getCollection('services');

const icons = {
  'neurotoxins':'syringe',
  'juvederm-fillers':'lips',
  'platelet-rich-plasma-prp':'test-tube',
  'microneedling':'dermapen',
  'aerolase':'laser-beam',
  'chemical-peels':'peel',
  'filler-dissolving':'dissolve',
  'vitamin-injections':'vial',
  'teeth-whitening':'sparkle',
  'facials':'mask',
  'waxing':'drop',
  'specialty-treatments':'star'
};

const seo = {
  title: 'Services | Dâ€‘Essence Wellness',
  description: 'A structured approach to skin health and refined aesthetics. Explore our core services.',
  canonical: '/services',
  type: 'website',
  jsonLd: []
};
---
<BaseLayout seo={seo}>
  <section class="section">
    <div class="container">
      <div class="flex items-end justify-between gap-4">
        <div>
          <h1 class="text-3xl sm:text-4xl font-semibold tracking-tight">Services</h1>
          <p class="text-muted mt-2 max-w-2xl">A structured approach to skin health and refined aesthetics.</p>
        </div>
        <a href="/appointment" class="btn btn-primary">Book</a>
      </div>

      <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {entries
          .sort((a,b) => a.data.title.localeCompare(b.data.title))
          .map((e) => (
            <ServiceCard
              href={`/services/${e.slug}`}
              title={e.data.title}
              summary={e.data.summary}
              icon={icons[e.slug] ?? 'star'}
              img={e.data.ogImage}
            />
          ))}
      </div>
    </div>
  </section>
</BaseLayout>
