---
import BaseLayout from "../../layouts/BaseLayout.astro"; /* <- If your layout file has a different name/path, adjust this import */
export const prerender = true;

const NAV = [
  { slug: "aerolase",        title: "Aerolase® Laser" },
  { slug: "waxing",          title: "Waxing" },
  { slug: "botox",           title: "Botox® / Neurotoxins" },
  { slug: "hydrafacial",     title: "Hydrafacial®" },
  { slug: "chemical-peels",  title: "Chemical Peels" },
  { slug: "microneedling",   title: "Microneedling" }
];

const seo = {
  title: "Before & After Gallery | D‑Essence Wellness",
  description: "Explore categorized before & after results across our treatments.",
  canonical: "/gallery",
  type: "website",
  ogImage: "/og-default.jpg",
  jsonLd: { "@context":"https://schema.org","@type":"CollectionPage","name":"Before & After Gallery" }
};
---
<BaseLayout seo={seo}>
  <section class="relative overflow-hidden bg-neutral-950 text-white">
    <div class="absolute inset-0 -z-10">
      <div class="absolute -top-40 -left-40 h-[520px] w-[520px] rounded-full blur-3xl opacity-40 bg-[radial-gradient(circle_at_center,rgba(59,130,246,.55),transparent_60%)]"></div>
      <div class="absolute -bottom-40 -right-20 h-[520px] w-[520px] rounded-full blur-3xl opacity-40 bg-[radial-gradient(circle_at_center,rgba(236,72,153,.45),transparent_60%)]"></div>
    </div>
    <div class="container py-20 md:py-28">
      <h1 class="text-4xl md:text-6xl font-semibold tracking-tight">Before &amp; After Gallery</h1>
      <p class="mt-4 text-lg text-neutral-300">Browse results by treatment category for a clean, organized experience.</p>
      <div class="mt-8 flex flex-wrap gap-2 catnav">
        {NAV.map(n => <a href={`/gallery/${n.slug}`} class="badge">{n.title}</a>)}
      </div>
    </div>
  </section>

  <section class="py-14 bg-white">
    <div class="container">
      <h2 class="text-2xl font-semibold">Choose a category</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
        {NAV.map(n => (
          <a class="rounded-3xl border p-6 lift" href={`/gallery/${n.slug}`}>
            <h3 class="text-lg font-semibold">{n.title}</h3>
            <p class="text-neutral-600 mt-1">View curated examples</p>
          </a>
        ))}
      </div>
    </div>
  </section>

  <script is:inline>
    const params = new URLSearchParams(window.location.search);
    const tag = params.get('tag');
    if (tag) { window.location.replace(`/gallery/${tag}`); }
  </script>

  <style>
    .bagrid { display:grid; grid-template-columns: 1fr; gap: 1rem; }
    @media (min-width: 768px) { .bagrid { grid-template-columns: 1fr 1fr; } }
    .pair { border-radius: 1.25rem; overflow:hidden; border:1px solid rgba(0,0,0,.08); background: #fff; }
    .pair .meta { display:flex; justify-content:space-between; padding:.5rem .75rem; font-size:.8rem; opacity:.8; }
    .badge { display:inline-flex; align-items:center; gap:.5rem; padding:.35rem .6rem; border-radius:9999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); font-size:.75rem; }
    .chip { display:inline-flex; align-items:center; gap:.5rem; padding:.35rem .6rem; border-radius:9999px; background:rgba(0,0,0,.06); border:1px solid rgba(0,0,0,.08); font-size:.75rem; }
    .catnav a { text-decoration:none; }
    .catnav .active { background: rgba(59,130,246,.12); border-color: rgba(59,130,246,.35); }
    .lift { transition: transform .2s ease, box-shadow .2s ease; }
    .lift:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,.06); }
  </style>
</BaseLayout>
